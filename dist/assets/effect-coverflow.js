import{g as _,d as H,e as I}from"./index.js";const X="_swiperContainer_1r5sq_3",Y="_mySwiper_1r5sq_13",D="_dark_1r5sq_25",N="_swiperSlide_1r5sq_33",B={swiperContainer:X,mySwiper:Y,dark:D,swiperSlide:N};function R(c){const{effect:t,swiper:e,on:i,setTranslate:d,setTransition:n,overwriteParams:f,perspective:h,recreateShadows:o,getEffectParams:p}=c;i("beforeInit",()=>{if(e.params.effect!==t)return;e.classNames.push(`${e.params.containerModifierClass}${t}`),h&&h()&&e.classNames.push(`${e.params.containerModifierClass}3d`);const s=f?f():{};Object.assign(e.params,s),Object.assign(e.originalParams,s)}),i("setTranslate",()=>{e.params.effect===t&&d()}),i("setTransition",(s,w)=>{e.params.effect===t&&n(w)}),i("transitionEnd",()=>{if(e.params.effect===t&&o){if(!p||!p().slideShadows)return;e.slides.forEach(s=>{s.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(w=>w.remove())}),o()}});let r;i("virtualUpdate",()=>{e.params.effect===t&&(e.slides.length||(r=!0),requestAnimationFrame(()=>{r&&e.slides&&e.slides.length&&(d(),r=!1)}))})}function U(c,t){const e=_(t);return e!==t&&(e.style.backfaceVisibility="hidden",e.style["-webkit-backface-visibility"]="hidden"),e}function P(c,t,e){const i=`swiper-slide-shadow${e?`-${e}`:""}${` swiper-slide-shadow-${c}`}`,d=_(t);let n=d.querySelector(`.${i.split(" ").join(".")}`);return n||(n=H("div",i.split(" ")),d.append(n)),n}function G(c){let{swiper:t,extendParams:e,on:i}=c;e({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),R({effect:"coverflow",swiper:t,on:i,setTranslate:()=>{const{width:f,height:h,slides:o,slidesSizesGrid:p}=t,r=t.params.coverflowEffect,s=t.isHorizontal(),w=t.translate,O=s?-w+f/2:-w+h/2,T=s?r.rotate:-r.rotate,k=r.depth,x=I(t);for(let u=0,z=o.length;u<z;u+=1){const l=o[u],S=p[u],A=l.swiperSlideOffset,C=(O-A-S/2)/S,a=typeof r.modifier=="function"?r.modifier(C):C*r.modifier;let b=s?T*a:0,E=s?0:T*a,$=-k*Math.abs(a),m=r.stretch;typeof m=="string"&&m.indexOf("%")!==-1&&(m=parseFloat(r.stretch)/100*S);let v=s?0:m*a,q=s?m*a:0,M=1-(1-r.scale)*Math.abs(a);Math.abs(q)<.001&&(q=0),Math.abs(v)<.001&&(v=0),Math.abs($)<.001&&($=0),Math.abs(b)<.001&&(b=0),Math.abs(E)<.001&&(E=0),Math.abs(M)<.001&&(M=0);const j=`translate3d(${q}px,${v}px,${$}px)  rotateX(${x(E)}deg) rotateY(${x(b)}deg) scale(${M})`,F=U(r,l);if(F.style.transform=j,l.style.zIndex=-Math.abs(Math.round(a))+1,r.slideShadows){let y=s?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),g=s?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");y||(y=P("coverflow",l,s?"left":"top")),g||(g=P("coverflow",l,s?"right":"bottom")),y&&(y.style.opacity=a>0?a:0),g&&(g.style.opacity=-a>0?-a:0)}}},setTransition:f=>{t.slides.map(o=>_(o)).forEach(o=>{o.style.transitionDuration=`${f}ms`,o.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>{p.style.transitionDuration=`${f}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}export{G as E,B as s};
